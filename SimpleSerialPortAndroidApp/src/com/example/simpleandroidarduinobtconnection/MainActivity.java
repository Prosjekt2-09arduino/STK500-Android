package com.example.simpleandroidarduinobtconnection;

import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.lang.reflect.Method;
import java.util.UUID;
import java.util.concurrent.Executor;

import no.group09.stk500_v1.Logger;
import no.group09.stk500_v1.STK500v1;

import android.os.Build;
import android.os.Bundle;
import android.os.Handler;
import android.os.HandlerThread;
import android.os.Looper;
import android.os.Message;
import android.app.Activity;
import android.bluetooth.BluetoothAdapter;
import android.bluetooth.BluetoothDevice;
import android.bluetooth.BluetoothSocket;
import android.content.Context;
import android.content.Intent;
import android.view.Menu;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.View.OnFocusChangeListener;
import android.widget.Button;
import android.widget.ScrollView;
import android.widget.TextView;
import android.widget.Toast;

public class MainActivity extends Activity {

	private TextView input, console;
	private Button send, connect, execute;
	private static final UUID MY_UUID = UUID.fromString("00001101-0000-1000-8000-00805F9B34FB");
	private BluetoothAdapter btAdapter = null;
	private BluetoothSocket btSocket = null;
	private OutputStream outStream = null;
	private InputStream inputStream = null;
	//	private static String address = "04:C0:6F:03:FE:7B";	//HUAWEI
	private static String address = "00:06:66:07:AF:93";	//ArduinoBT
//	private static String address = "00:13:02:20:93:35"; //iJacketClone
//	private static String address = "00:06:66:42:9B:C1"; //BTJacket
	private String text = "";
	Context ctx;
	Logger log;
	
	private Handler handler = new Handler() {
		@Override
		public void handleMessage(Message msg) {
			super.handleMessage(msg);
		}
	};

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);

		input = (TextView) findViewById(R.id.input);
		console = (TextView) findViewById(R.id.console);
		send = (Button) findViewById(R.id.send);
		connect = (Button) findViewById(R.id.connect);
		execute = (Button) findViewById(R.id.execute);
	
		ctx = getBaseContext();
		log = new Log(this, ctx);
		android.util.Log.d("BT-for-STK","App ready to connect");
		
		btAdapter = BluetoothAdapter.getDefaultAdapter();
		
		initializeExecuteButton();
		initializeSendButton();
		initialiseConnectButton();
		checkBTState();
	}
	
	private void initializeExecuteButton(){
		execute.setOnClickListener(new OnClickListener() {

			@Override
			public void onClick(View v) {
				new Thread(new Runnable() {

					@Override
					public void run() {
//						byte[] binaryFile;
						
//						//blink sketch
//						hexData = "3A100000000C9461000C947E000C947E000C947E0095" +
//								"3A100010000C947E000C947E000C947E000C947E0068" +
//								"3A100020000C947E000C947E000C947E000C947E0058" +
//								"3A100030000C947E000C947E000C947E000C947E0048" +
//								"3A100040000C949A000C947E000C947E000C947E001C" +
//								"3A100050000C947E000C947E000C947E000C947E0028" +
//								"3A100060000C947E000C947E00000000002400270009" +
//								"3A100070002A0000000000250028002B0000000000DE" +
//								"3A1000800023002600290004040404040404040202DA" +
//								"3A100090000202020203030303030301020408102007" +
//								"3A1000A0004080010204081020010204081020000012" +
//								"3A1000B0000007000201000003040600000000000029" +
//								"3A1000C000000011241FBECFEFD8E0DEBFCDBF11E08E" +
//								"3A1000D000A0E0B1E0EAEFF3E002C005900D92A0309D" +
//								"3A1000E000B107D9F711E0A0E0B1E001C01D92A9303D" +
//								"3A1000F000B107E1F70E94F4010C94FB010C9400009D" +
//								"3A100100008DE061E00E949C0168EE73E080E090E089" +
//								"3A100110000E94E2008DE060E00E949C0168EE73E0C6" +
//								"3A1001200080E090E00E94E20008958DE061E00E948E" +
//								"3A10013000760108951F920F920FB60F9211242F93FC" +
//								"3A100140003F938F939F93AF93BF93809104019091BE" +
//								"3A100150000501A0910601B0910701309108010196B7" +
//								"3A10016000A11DB11D232F2D5F2D3720F02D57019696" +
//								"3A10017000A11DB11D209308018093040190930501F6" +
//								"3A10018000A0930601B09307018091000190910101B5" +
//								"3A10019000A0910201B09103010196A11DB11D8093B0" +
//								"3A1001A000000190930101A0930201B0930301BF915C" +
//								"3A1001B000AF919F918F913F912F910F900FBE0F9014" +
//								"3A1001C0001F9018959B01AC017FB7F89480910001B6" +
//								"3A1001D00090910101A0910201B091030166B5A89B25" +
//								"3A1001E00005C06F3F19F00196A11DB11D7FBFBA2F49" +
//								"3A1001F000A92F982F8827860F911DA11DB11D62E0A0" +
//								"3A10020000880F991FAA1FBB1F6A95D1F7BC012DC08B" +
//								"3A10021000FFB7F8948091000190910101A091020133" +
//								"3A10022000B0910301E6B5A89B05C0EF3F19F0019618" +
//								"3A10023000A11DB11DFFBFBA2FA92F982F88278E0FA0" +
//								"3A10024000911DA11DB11DE2E0880F991FAA1FBB1FC0" +
//								"3A10025000EA95D1F7861B970B885E9340C8F2215030" +
//								"3A1002600030404040504068517C4F211531054105D8" +
//								"3A10027000510571F60895789484B5826084BD84B583" +
//								"3A10028000816084BD85B5826085BD85B5816085BD91" +
//								"3A10029000EEE6F0E0808181608083E1E8F0E01082AA" +
//								"3A1002A000808182608083808181608083E0E8F0E0EB" +
//								"3A1002B000808181608083E1EBF0E0808184608083D5" +
//								"3A1002C000E0EBF0E0808181608083EAE7F0E080810C" +
//								"3A1002D000846080838081826080838081816080836C" +
//								"3A1002E0008081806880831092C1000895482F50E07B" +
//								"3A1002F000CA0186569F4FFC0124914A575F4FFA016D" +
//								"3A1003000084918823C1F0E82FF0E0EE0FFF1FE85939" +
//								"3A10031000FF4FA591B491662341F49FB7F8948C9157" +
//								"3A10032000209582238C939FBF08959FB7F8948C915A" +
//								"3A10033000822B8C939FBF0895482F50E0CA018255AD" +
//								"3A100340009F4FFC012491CA0186569F4FFC013491B6" +
//								"3A100350004A575F4FFA019491992309F444C022232C" +
//								"3A1003600051F1233071F0243028F42130A1F02230F3" +
//								"3A1003700011F514C02630B1F02730C1F02430D9F483" +
//								"3A1003800004C0809180008F7703C0809180008F7DB2" +
//								"3A100390008093800010C084B58F7702C084B58F7DB4" +
//								"3A1003A00084BD09C08091B0008F7703C08091B000F8" +
//								"3A1003B0008F7D8093B000E92FF0E0EE0FFF1FEE5825" +
//								"3A1003C000FF4FA591B491662341F49FB7F8948C91A7" +
//								"3A1003D000309583238C939FBF08959FB7F8948C9199" +
//								"3A1003E000832B8C939FBF08950E943B010E94950030" +
//								"3A0A03F0000E948000FDCFF894FFCFBB" +
//								"3A00000001FF"; 
						
//						// Reset mode
//						String hexData =
//								"3A100000000C9461000C947E000C947E000C947E0095" +
//								"3A100010000C947E000C947E000C947E000C947E0068" +
//								"3A100020000C947E000C947E000C947E000C947E0058" +
//								"3A100030000C947E000C947E000C947E000C947E0048" +
//								"3A100040000C9490000C947E000C947E000C947E0026" +
//								"3A100050000C947E000C947E000C947E000C947E0028" +
//								"3A100060000C947E000C947E00000000002400270009" +
//								"3A100070002A0000000000250028002B0000000000DE" +
//								"3A1000800023002600290004040404040404040202DA" +
//								"3A100090000202020203030303030301020408102007" +
//								"3A1000A0004080010204081020010204081020000012" +
//								"3A1000B0000007000201000003040600000000000029" +
//								"3A1000C000000011241FBECFEFD8E0DEBFCDBF11E08E" +
//								"3A1000D000A0E0B1E0E0E2F4E002C005900D92A030B3" +
//								"3A1000E000B107D9F711E0A0E0B1E001C01D92A9303D" +
//								"3A1000F000B107E1F70E94FF010C940E020C9400007E" +
//								"3A10010000089584E061E00E946C016CE271E080E09F" +
//								"3A1001100090E00E94D80084E060E00E94AB01089566" +
//								"3A100120001F920F920FB60F9211242F933F938F932C" +
//								"3A100130009F93AF93BF938091040190910501A0918B" +
//								"3A100140000601B0910701309108010196A11DB11D72" +
//								"3A10015000232F2D5F2D3720F02D570196A11DB11DA6" +
//								"3A10016000209308018093040190930501A093060158" +
//								"3A10017000B09307018091000190910101A0910201CB" +
//								"3A10018000B09103010196A11DB11D809300019093D0" +
//								"3A100190000101A0930201B0930301BF91AF919F9120" +
//								"3A1001A0008F913F912F910F900FBE0F901F90189538" +
//								"3A1001B0009B01AC017FB7F8948091000190910101FF" +
//								"3A1001C000A0910201B091030166B5A89B05C06F3FE5" +
//								"3A1001D00019F00196A11DB11D7FBFBA2FA92F982F2D" +
//								"3A1001E0008827860F911DA11DB11D62E0880F991F00" +
//								"3A1001F000AA1FBB1F6A95D1F7BC012DC0FFB7F894A9" +
//								"3A100200008091000190910101A0910201B091030140" +
//								"3A10021000E6B5A89B05C0EF3F19F00196A11DB11DE1" +
//								"3A10022000FFBFBA2FA92F982F88278E0F911DA11DD0" +
//								"3A10023000B11DE2E0880F991FAA1FBB1FEA95D1F7F5" +
//								"3A10024000861B970B885E9340C8F221503040404097" +
//								"3A10025000504068517C4F211531054105510571F61B" +
//								"3A100260000895789484B5826084BD84B5816084BD2E" +
//								"3A1002700085B5826085BD85B5816085BDEEE6F0E01F" +
//								"3A10028000808181608083E1E8F0E01082808182607B" +
//								"3A100290008083808181608083E0E8F0E080818160FC" +
//								"3A1002A0008083E1EBF0E0808184608083E0EBF0E02C" +
//								"3A1002B000808181608083EAE7F0E0808184608083D0" +
//								"3A1002C000808182608083808181608083808180687A" +
//								"3A1002D00080831092C1000895CF93DF93482F50E0A0" +
//								"3A1002E000CA0186569F4FFC0134914A575F4FFA016D" +
//								"3A1002F0008491882369F190E0880F991FFC01E859E7" +
//								"3A10030000FF4FA591B491FC01EE58FF4FC591D491D8" +
//								"3A10031000662351F42FB7F8948C91932F90958923ED" +
//								"3A100320008C93888189230BC0623061F42FB7F894D5" +
//								"3A100330008C91932F909589238C938881832B88832C" +
//								"3A100340002FBF06C09FB7F8948C91832B8C939FBFCF" +
//								"3A10035000DF91CF910895482F50E0CA0182559F4FF9" +
//								"3A10036000FC012491CA0186569F4FFC0194914A5783" +
//								"3A100370005F4FFA013491332309F440C0222351F135" +
//								"3A10038000233071F0243028F42130A1F0223011F50F" +
//								"3A1003900014C02630B1F02730C1F02430D9F404C0A5" +
//								"3A1003A000809180008F7703C0809180008F7D809343" +
//								"3A1003B000800010C084B58F7702C084B58F7D84BD66" +
//								"3A1003C00009C08091B0008F7703C08091B0008F7D0D" +
//								"3A1003D0008093B000E32FF0E0EE0FFF1FEE58FF4FC9" +
//								"3A1003E000A591B4912FB7F894662321F48C91909540" +
//								"3A1003F000892302C08C91892B8C932FBF0895CF93B2" +
//								"3A10040000DF930E9431010E948100C0E0D0E00E9491" +
//								"3A1004100080002097E1F30E940000F9CFF894FFCF0D" +
//								"3A00000001FF";
						
						// TestApplication
						// Temperature reading on LCD
						String hexData =
								"3A100000000C9464000C948C000C948C000C948C0068" +
								"3A100010000C948C000C948C000C948C000C948C0030" +
								"3A100020000C948C000C948C000C948C000C948C0020" +
								"3A100030000C948C000C948C000C948C000C948C0010" +
								"3A100040000C941E090C948C000C94C10A0C940F0B98" +
								"3A100050000C948C000C948C000C948C000C948C00F0" +
								"3A100060000C948C000C948C000000000024002700ED" +
								"3A100070002A0000000000250028002B0000000000DE" +
								"3A1000800023002600290004040404040404040202DA" +
								"3A100090000202020203030303030301020408102007" +
								"3A1000A0004080010204081020010204081020000012" +
								"3A1000B0000007000201000003040600000000000029" +
								"3A1000C0000000B4027B0CAD0211241FBECFEFD8E0BC" +
								"3A1000D000DEBFCDBF12E0A0E0B1E0EEECF4E202C082" +
								"3A1000E00005900D92A030B107D9F713E0A0E0B2E07F" +
								"3A1000F00001C01D92AC30B107E1F710E0C6ECD0E0D2" +
								"3A1001000004C02297FE010E941F12C23CD107C9F70A" +
								"3A100110000E94D10C0C945A120C940000CF93DF93E0" +
								"3A10012000BC018230910510F462E070E0A0910A03F6" +
								"3A10013000B0910B03ED01E0E0F0E040E050E021C0C1" +
								"3A10014000888199818617970769F48A819B81309706" +
								"3A1001500019F09383828304C090930B0380930A0366" +
								"3A10016000FE0134C06817790738F44115510519F0BC" +
								"3A100170008417950708F4AC01FE018A819B819C01DC" +
								"3A10018000E9012097E9F641155105A9F1CA01861B3D" +
								"3A10019000970B049708F4BA01E0E0F0E02AC08D91D3" +
								"3A1001A0009C91119784179507F9F46417750781F4EA" +
								"3A1001B00012968D919C911397309719F093838283B7" +
								"3A1001C00004C090930B0380930A03FD0132964CC048" +
								"3A1001D000CA01861B970BFD01E80FF91F619371930C" +
								"3A1001E00002978D939C9340C0FD01828193819C0175" +
								"3A1001F000D9011097A1F68091080390910903892BEA" +
								"3A1002000041F48091D7019091D80190930903809394" +
								"3A1002100008034091D9015091DA014115510541F48B" +
								"3A100220004DB75EB78091D5019091D601481B590B0F" +
								"3A100230002091080330910903CA01821B930B861792" +
								"3A10024000970780F0AB014E5F5F4F8417950750F022" +
								"3A10025000420F531F5093090340930803F901619320" +
								"3A10026000719302C0E0E0F0E0CF01DF91CF910895FB" +
								"3A10027000CF93DF93009709F450C0EC0122971B82C3" +
								"3A100280001A82A0910A03B0910B03109709F140E084" +
								"3A1002900050E0AC17BD0708F1BB83AA83FE01219192" +
								"3A1002A0003191E20FF31FAE17BF0779F48D919C9146" +
								"3A1002B0001197280F391F2E5F3F4F398328831296DD" +
								"3A1002C0008D919C9113979B838A834115510571F4FD" +
								"3A1002D000D0930B03C0930A0320C012968D919C917A" +
								"3A1002E0001397AD01009711F0DC01D3CFFA01D3834E" +
								"3A1002F000C28321913191E20FF31FCE17DF0769F41A" +
								"3A1003000088819981280F391F2E5F3F4FFA01318371" +
								"3A1003100020838A819B8193838283DF91CF9108958B" +
								"3A10032000A0E0B0E0E6E9F1E00C9425126C01009742" +
								"3A1003300029F4CB010E948E006C01C1C08EEF882E83" +
								"3A100340008FEF982E8C0C9D1C8601060F171F081529" +
								"3A10035000190508F4B2C0F401A081B181A617B7074E" +
								"3A10036000B8F0A530B10508F4AAC0CD0104978617EE" +
								"3A10037000970708F4A4C01297A61BB70BF801A19326" +
								"3A10038000B193D4016D937C93CF010E94380197C043" +
								"3A100390007B01EA1AFB0AEEEFFFEFEE0EFF1E3601BD" +
								"3A1003A0006A0E7B1EC0910A03D0910B03442455248E" +
								"3A1003B000AA24BB244AC0C615D705E1F54881598156" +
								"3A1003C0004E155F05B8F1CA0104978E159F05B0F46C" +
								"3A1003D0001296A40FB51FF401B183A0832A813B813B" +
								"3A1003E0004114510431F0D20113963C932E9312978D" +
								"3A1003F00066C030930B0320930A0361C08A819B81FE" +
								"3A10040000F80193838283425050404E195F09518313" +
								"3A1004100040834114510431F0D20113961C930E9382" +
								"3A10042000129704C010930B0300930A03F401718325" +
								"3A10043000608345C088819981A816B90608F45C01DB" +
								"3A100440002E018A819B819C01E901209709F0B3CF9D" +
								"3A10045000809108039091090386159705E9F4A61683" +
								"3A10046000B706D0F42091D9013091DA012115310578" +
								"3A1004700041F42DB73EB78091D5019091D601281B4C" +
								"3A10048000390B02171307C8F41093090300930803EC" +
								"3A10049000D4016D937C9313C0CB010E948E00EC01BC" +
								"3A1004A000009759F0F40140815181B6010E94650224" +
								"3A1004B000C6010E9438016E0102C0CC24DD24C601B1" +
								"3A1004C000CDB7DEB7E0E10C944112FB01DC0102C0C4" +
								"3A1004D00001900D9241505040D8F70895FB01DC0186" +
								"3A1004E00001900D920020E1F708950895CF92EF92C8" +
								"3A1004F0000F9381309105C1F46F5F7F4F51F584E018" +
								"3A1005000092E040E050E060E070E00E94FD0682E38F" +
								"3A1005100092E067E048E029E00AE05BE0E52E3CE09D" +
								"3A10052000C32E0E94E50815C0892B99F46F5F7F4F99" +
								"3A1005300081F48BE292E00E94B70F84E292E00E9485" +
								"3A10054000B70F8DE192E00E94B70F86E192E00E9422" +
								"3A10055000B70F0F91EF90CF90089580E090E06FEF8C" +
								"3A100560007FEF0E947602089581E090E06FEF7FEFC9" +
								"3A100570000E947602089584E092E00E947E0508952C" +
								"3A10058000EF92FF920F931F93E090DB01F090DC015C" +
								"3A100590000091DD011091DE01809100029091010235" +
								"3A1005A000A0910202B0910302E80EF91E0A1F1B1F60" +
								"3A1005B0000E9466096E157F058007910708F042C00A" +
								"3A1005C00082E392E00E94270885E00E94B9097C013D" +
								"3A1005D00082E392E060E040E00E94F80782E392E06C" +
								"3A1005E00060E071E00E94D90D0027F7FC0095102F04" +
								"3A1005F000C801B7010E94C11020E030E040EA50E499" +
								"3A100600000E94751120E030E040E85AE30E94751125" +
								"3A1006100020E030E040E05FE30E94BD0F20E030E0EA" +
								"3A1006200048EC52E40E947511AB01BC0182E392E0F8" +
								"3A1006300022E030E00E94C00E82E392E067E071E0C9" +
								"3A100640000E94D90D1F910F91FF90EF900895EF92A6" +
								"3A10065000FF920F931F93DF93CF93CDB7DEB72E9703" +
								"3A100660000FB6F894DEBF0FBECDBF64E0E62E62E0A9" +
								"3A10067000F62EC70140E052EC61E070E00E94E30614" +
								"3A1006800084E061E00E94DB0984E061E00E941A0AD4" +
								"3A100690008E010F5F1F4FC8016AE071E00E94860F54" +
								"3A1006A000C701B8010E94DF06C8010E94B70F8E0182" +
								"3A1006B000085F1F4FC8016FE071E00E94860FC701FD" +
								"3A1006C000B8010E94DB06C8010E94B70FC70165E1AF" +
								"3A1006D00071E04BE151E00E94A306C7016FEF45E7CF" +
								"3A1006E00052E00E94A40302E312E0C80160E142E08C" +
								"3A1006F00020E00E942F08C80160E040E00E94F80757" +
								"3A10070000C8010E942708C7016CE171E04EE451E086" +
								"3A100710000E946B060E9466096093000270930102BA" +
								"3A1007200080930202909303022E960FB6F894DEBFD8" +
								"3A100730000FBECDBFCF91DF911F910F91FF90EF9032" +
								"3A10074000089580E090E00895E62FF0E03196EE0FF6" +
								"3A10075000FF1FE80FF91F518340830895CF92DF9266" +
								"3A10076000EF92FF921F93CF93DF93162F6A017901C7" +
								"3A1007700085EE92E06FEF0E943B0C85EE92E06F2DCC" +
								"3A100780000E943B0C85EE92E06E2D0E943B0C85EEA4" +
								"3A1007900092E06EEF0E943B0C85EE92E0612F0E948A" +
								"3A1007A0003B0CC0E0D0E009C0F601EC0FFD1F85EE68" +
								"3A1007B00092E060810E943B0C2196CE15DF05A0F3EC" +
								"3A1007C000DF91CF911F91FF90EF90DF90CF90089530" +
								"3A1007D0000F931F93CF93DF938C01DB01842FE801EC" +
								"3A1007E000E885F985B901AD010995C80163E040E0EC" +
								"3A1007F00050E020E030E00E94AE03DF91CF911F91E6" +
								"3A100800000F910895CF92DF92EF92FF920F931F9373" +
								"3A10081000DF93CF9300D0CDB7DEB76C01862FD60122" +
								"3A100820001696ED91FC9117977E010894E11CF11C3E" +
								"3A10083000B70140E050E009958C01FC019081818175" +
								"3A1008400089839A83C60162E0A70122E030E00E941A" +
								"3A10085000AE03C8010E9438010F900F90CF91DF9135" +
								"3A100860001F910F91FF90EF90DF90CF9008950F931D" +
								"3A100870001F93CF93DF938C01DB01842FE801EC8180" +
								"3A10088000FD81B901AD010995C80161E040E050E08A" +
								"3A1008900020E030E00E94AE03DF91CF911F910F91D5" +
								"3A1008A000089560E040E050E020E030E00E94AE03B8" +
								"3A1008B000089585EE92E064E10E943B0C84E060E0E4" +
								"3A1008C0000E941A0A08950F931F93CF93DF93EC01B0" +
								"3A1008D000062F142F862F61E00E94DB0960E01111C2" +
								"3A1008E00061E0802F0E941A0ACE0165E040E050E0EE" +
								"3A1008F00020E030E00E94AE03DF91CF911F910F9175" +
								"3A100900000895EF92FF921F93DF93CF930F92CDB78D" +
								"3A10091000DEB77C01162F862F60E00E94DB09812F55" +
								"3A100920000E946E0A19821816190614F481E0898350" +
								"3A10093000C70164E0AE014F5F5F4F21E030E00E94ED" +
								"3A10094000AE030F90CF91DF911F91FF90EF9008952C" +
								"3A10095000CF92DF92EF92FF920F931F93DF93CF938B" +
								"3A10096000CDB7DEB727970FB6F894DEBF0FBECDBF69" +
								"3A100970007C018E010F5F1F4FC80165E671E00E9488" +
								"3A10098000860FC80166E671E00E943B0F82E190E0AD" +
								"3A10099000E80EF91EC801B7010E944B0FC80160E7BD" +
								"3A1009A00071E00E943B0FC80163E771E00E943B0FBA" +
								"3A1009B00087E090E0E80EF91EC801B7010E944B0FD6" +
								"3A1009C000C80160E771E00E943B0FC8016FE771E06A" +
								"3A1009D0000E943B0F87E090E0E80EF91EC801B701C6" +
								"3A1009E0000E944B0FC8016DE871E00E943B0FC801E7" +
								"3A1009F00060E971E00E943B0F87E090E0E80EF91E8D" +
								"3A100A0000C801B7010E944B0FC8016BE971E00E9459" +
								"3A100A10003B0FCD80DE8085EE92E06FEF0E943B0CB5" +
								"3A100A200085EE92E06D2D0E943B0C85EE92E06C2DE0" +
								"3A100A30000E943B0C85EE92E06EEF0E943B0C85EE2F" +
								"3A100A400092E066E00E943B0CEE24FF2410C0C80137" +
								"3A100A5000B7010E94C30EFC016081772767FD709586" +
								"3A100A600085EE92E00E943B0C0894E11CF11CEC1412" +
								"3A100A7000FD0468F3C8010E94B70F27960FB6F894DB" +
								"3A100A8000DEBF0FBECDBFCF91DF911F910F91FF90C1" +
								"3A100A9000EF90DF90CF9008950F931F93F8014330AC" +
								"3A100AA000D1F0443028F4413069F0423080F407C07E" +
								"3A100AB0004530D1F04530A0F04630E9F41AC00E942C" +
								"3A100AC000510419C0422F98010E94370414C0622FAC" +
								"3A100AD0000E94020410C0422F98010E94E8030BC03C" +
								"3A100AE000622F0E94810407C0622F40810E9463042C" +
								"3A100AF00002C00E94A8041F910F9108958F929F92A7" +
								"3A100B0000AF92BF92CF92DF92EF92FF920F931F931B" +
								"3A100B1000CF93DF93EC010E94660920914E02309141" +
								"3A100B20004F02409150025091510226173707480753" +
								"3A100B3000590750F48091520290915302892B21F071" +
								"3A100B400010925302109252020E9466096053784F2D" +
								"3A100B50008F4F9F4F60934E0270934F0280935002CD" +
								"3A100B60009093510263E0862E912C55E0A52EB12C76" +
								"3A100B700044E0C42ED12C32E0E32EF12C98C08091B9" +
								"3A100B80005202909153028230910569F183309105B0" +
								"3A100B900034F4009779F0019709F084C017C08430CD" +
								"3A100BA000910509F448C084309105D4F1059709F006" +
								"3A100BB00079C04CC085EE92E00E94020C8F3F9105F7" +
								"3A100BC00009F070C0CE010E9459046CC085EE92E01D" +
								"3A100BD0000E94020C10924C0280934D02F09253023C" +
								"3A100BE000E09252025FC000914C0210914D0285EEDE" +
								"3A100BF00092E00E94020C90E0802B912B90934D028A" +
								"3A100C000080934C0290925302809252020E948E0076" +
								"3A100C10009093490280934802009709F043C03EC078" +
								"3A100C200085EE92E00E94020C80934B02D092530218" +
								"3A100C3000C092520237C085EE92E00E94020C80936F" +
								"3A100C40004A02B0925302A09252022CC080914702F5" +
								"3A100C50000091480210914902080F111D85EE92E0A3" +
								"3A100C60000E94020CF8018083809147028F5F80937D" +
								"3A100C7000470260914C0270914D0290E086179707F1" +
								"3A100C800088F00091480210914902CE0140914B0238" +
								"3A100C900020914A020E944C05109247021092530282" +
								"3A100CA000109252028881998101969983888385EEFA" +
								"3A100CB00092E00E94D10B892B09F061CFDF91CF9197" +
								"3A100CC0001F910F91FF90EF90DF90CF90BF90AF906A" +
								"3A100CD0009F908F900895CF92DF92EF92FF920F93A3" +
								"3A100CE0001F93CF93DF93EC016B017A018BA59CA539" +
								"3A100CF000892B31F0CE0187966EE971E00E943B0F9F" +
								"3A100D00008E01095D1F4FC80166E671E00E943B0F2E" +
								"3A100D1000C801B7010E943B0FC80161EA71E00E945F" +
								"3A100D20003B0FC801B6010E943B0FC8016DEA71E09C" +
								"3A100D30000E943B0FDF91CF911F910F91FF90EF9099" +
								"3A100D4000DF90CF900895CF92DF92EF92FF920F93B2" +
								"3A100D50001F93CF93DF93EC017B016A018CA19DA1CE" +
								"3A100D6000892B31F0CE0180966EE971E00E943B0F35" +
								"3A100D70008E01005E1F4FC80160EB71E00E943B0FC7" +
								"3A100D8000C801B7010E943B0FC8016AEB71E00E94E5" +
								"3A100D90003B0FC801B6010E943B0FC8016DEA71E02C" +
								"3A100DA0000E943B0FDF91CF911F910F91FF90EF9029" +
								"3A100DB000DF90CF90089549960E94A00F0895429623" +
								"3A100DC0000E94A00F08950F931F93182F092F85EEEF" +
								"3A100DD00092E00E944A0B212F302FC901FC0180E0D4" +
								"3A100DE00090E021EA33E03383228301963296883003" +
								"3A100DF0009105C9F71F910F910895EF92FF920F93FC" +
								"3A100E00001F93CF93DF93EC017A018B01429665E645" +
								"3A100E100071E00E94860FCE01499665E671E00E945E" +
								"3A100E2000860FCE01809665E671E00E94860FCE01A6" +
								"3A100E3000879665E671E00E94860FE114F1040105D2" +
								"3A100E4000110529F0CE01B801A7010E94E306DF9148" +
								"3A100E5000CF911F910F91FF90EF9008950F931F93E3" +
								"3A100E60008C01FC01868160E00E941A0A81E090E01A" +
								"3A100E70000E947409F801868161E00E941A0A81E0EB" +
								"3A100E800090E00E947409F801868160E00E941A0ACD" +
								"3A100E900084E690E00E9474091F910F910895CF920B" +
								"3A100EA000DF92EF92FF920F931F93CF93DF93D82E91" +
								"3A100EB000C92E282F392FC9018C01C0E0D0E0E62EC1" +
								"3A100EC000FF24F801878161E00E94DB09B7010C2E45" +
								"3A100ED00002C0759567950A94E2F76170F801878101" +
								"3A100EE0000E941A0A21960F5F1F4FC830D10549F79B" +
								"3A100EF0008D2D9C2D0E942E07DF91CF911F910F9178" +
								"3A100F0000FF90EF90DF90CF900895CF92DF92EF9215" +
								"3A100F1000FF920F931F93CF93DF93D82EC92E282FC4" +
								"3A100F2000392FC9018C01C0E0D0E0E62EFF24F80182" +
								"3A100F3000878161E00E94DB09B7010C2E02C0759524" +
								"3A100F400067950A94E2F76170F80187810E941A0A96" +
								"3A100F500021960F5F1F4FC430D10549F78D2D9C2D71" +
								"3A100F60000E942E07DF91CF911F910F91FF90EF907C" +
								"3A100F7000DF90CF9008951F93CF93DF93EC01162F4E" +
								"3A100F80008C81642F0E941A0A8D818F3F19F060E0D6" +
								"3A100F90000E941A0A8F8584FF05C0CE01612F0E942E" +
								"3A100FA0004F070EC0612F70E084E0759567958A95B4" +
								"3A100FB000E1F7CE010E948507CE01612F0E948507CF" +
								"3A100FC000DF91CF911F91089541E00E94BB0781E01E" +
								"3A100FD00090E0089540E00E94BB070895FC016089FD" +
								"3A100FE000862F8460808B6C60CF010E94EA07089591" +
								"3A100FF000DF93CF93CDB7DEB728970FB6F894DEBF57" +
								"3A101000000FBECDBF9C01FE013196A8EEB1E088E095" +
								"3A101010000D9001928150E1F7F9018389481710F092" +
								"3A10102000482F4150E42FF0E0EE0FFF1FEC0FFD1FA3" +
								"3A101030008181680F6068C9010E94EA0728960FB68F" +
								"3A10104000F894DEBF0FBECDBFCF91DF91089561E070" +
								"3A101050000E94EA0780ED97E00E9474090895CF93FB" +
								"3A10106000DF93EC01423018F08F8588608F874B8BBF" +
								"3A101070001C8A222329F0413019F48F8584608F87E0" +
								"3A1010800080E593EC0E9474098C8160E00E941A0A4A" +
								"3A101090008E8160E00E941A0A8D818F3F19F060E016" +
								"3A1010A0000E941A0A6F8564FD1DC0CE0163E00E9494" +
								"3A1010B000850784E991E10E947409CE0163E00E94F2" +
								"3A1010C000850784E991E10E947409CE0163E00E94E2" +
								"3A1010D000850786E990E00E947409CE0162E00E94D3" +
								"3A1010E000850716C06062CE010E94EA0784E991E19B" +
								"3A1010F0000E9474096F856062CE010E94EA0786E94A" +
								"3A1011000090E00E9474096F856062CE010E94EA0738" +
								"3A101110006F856062CE010E94EA0784E0888BCE0171" +
								"3A101120000E94EE07CE010E94270882E0898BCE0143" +
								"3A1011300066E00E94EA07DF91CF9108956F927F9257" +
								"3A101140008F92AF92CF92EF920F931F93DF93CF9333" +
								"3A10115000CDB7DEB73C01162F842FF30144832583DE" +
								"3A101160000683E782C086A18682869D8593879E85B9" +
								"3A1011700094879F8595879889968761E00E94DB090F" +
								"3A10118000F30185818F3F19F061E00E94DB09F301D3" +
								"3A10119000868161E00E94DB09112319F0F3011786B3" +
								"3A1011A00003C080E1F3018787C30160E141E020E0F3" +
								"3A1011B0000E942F08CF91DF911F910F91EF90CF9058" +
								"3A1011C000AF908F907F906F9008958F92AF92CF9253" +
								"3A1011D000EF920F931F93CF93DF93DC01362F542FA1" +
								"3A1011E000722F102FAE2C8C2C13961C921E921297DD" +
								"3A1011F00084EE91E011969C938E9300D000D0EDB7D1" +
								"3A10120000FEB73196CDB7DEB71982118212821382F2" +
								"3A10121000CD0161E0432F2FEF052FE72EC12E0E9455" +
								"3A101220009E080F900F900F900F90DF91CF911F911C" +
								"3A101230000F91EF90CF90AF908F9008951F920F92E3" +
								"3A101240000FB60F9211242F933F938F939F93AF93D9" +
								"3A10125000BF938091580290915902A0915A02B09187" +
								"3A101260005B0230915C020196A11DB11D232F2D5F01" +
								"3A101270002D3720F02D570196A11DB11D20935C0242" +
								"3A101280008093580290935902A0935A02B0935B0244" +
								"3A101290008091540290915502A0915602B09157024C" +
								"3A1012A0000196A11DB11D8093540290935502A09305" +
								"3A1012B0005602B0935702BF91AF919F918F913F918A" +
								"3A1012C0002F910F900FBE0F901F9018958FB7F89425" +
								"3A1012D000209158023091590240915A0250915B027C" +
								"3A1012E0008FBFB901CA010895019739F0880F991F7E" +
								"3A1012F000880F991F02970197F1F70895789484B5A4" +
								"3A10130000826084BD84B5816084BD85B5826085BD01" +
								"3A1013100085B5816085BDEEE6F0E0808181608083E7" +
								"3A10132000E1E8F0E0108280818260808380818160CA" +
								"3A101330008083E0E8F0E0808181608083E1EBF0E091" +
								"3A10134000808184608083E0EBF0E080818160808335" +
								"3A10135000EAE7F0E08081846080838081826080831E" +
								"3A101360008081816080838081806880831092C10049" +
								"3A101370000895982F8E3008F09E5097708091DF016D" +
								"3A101380008295880F880F807C892B80937C008091C8" +
								"3A101390007A00806480937A0080917A0086FDFCCF89" +
								"3A1013A0002091780040917900942F80E030E0282B44" +
								"3A1013B000392BC9010895CF93DF93482F50E0CA011C" +
								"3A1013C00086569F4FFC0134914A575F4FFA01849132" +
								"3A1013D000882369F190E0880F991FFC01E859FF4FBD" +
								"3A1013E000A591B491FC01EE58FF4FC591D4916623AD" +
								"3A1013F00051F42FB7F8948C91932F909589238C9367" +
								"3A10140000888189230BC0623061F42FB7F8948C91E6" +
								"3A10141000932F909589238C938881832B88832FBF6A" +
								"3A1014200006C09FB7F8948C91832B8C939FBFDF915C" +
								"3A10143000CF910895482F50E0CA0182559F4FFC017B" +
								"3A101440002491CA0186569F4FFC0194914A575F4FE1" +
								"3A10145000FA013491332309F440C0222351F123309F" +
								"3A1014600071F0243028F42130A1F0223011F514C09D" +
								"3A101470002630B1F02730C1F02430D9F404C0809177" +
								"3A1014800080008F7703C0809180008F7D80938000E3" +
								"3A1014900010C084B58F7702C084B58F7D84BD09C02C" +
								"3A1014A0008091B0008F7703C08091B0008F7D8093D2" +
								"3A1014B000B000E32FF0E0EE0FFF1FEE58FF4FA591B5" +
								"3A1014C000B4912FB7F894662321F48C9190958923D9" +
								"3A1014D00002C08C91892B8C932FBF0895682F70E0E8" +
								"3A1014E000CB0182559F4FFC012491CB0186569F4F23" +
								"3A1014F000FC0144916A577F4FFB019491992319F4A1" +
								"3A1015000020E030E03CC0222351F1233071F0243040" +
								"3A1015100028F42130A1F0223011F514C02630B1F0AA" +
								"3A101520002730C1F02430D9F404C0809180008F7737" +
								"3A1015300003C0809180008F7D8093800010C084B5AF" +
								"3A101540008F7702C084B58F7D84BD09C08091B000C3" +
								"3A101550008F7703C08091B0008F7D8093B000892F7A" +
								"3A1015600090E0880F991F84589F4FFC01A591B4917A" +
								"3A101570008C9120E030E0842311F021E030E0C901BB" +
								"3A1015800008951F920F920FB60F9211242F933F933D" +
								"3A101590004F938F939F93EF93FF938091C00082FDB1" +
								"3A1015A0001DC04091C60020919D0230919E022F5F88" +
								"3A1015B0003F4F2F73307080919F029091A0022817A7" +
								"3A1015C000390771F0E0919D02F0919E02E35AFD4FC0" +
								"3A1015D000408330939E0220939D0202C08091C600FA" +
								"3A1015E000FF91EF919F918F914F913F912F910F908C" +
								"3A1015F0000FBE0F901F901895E091F102F091F2024A" +
								"3A10160000E05CFF4F8191919120813181821B930B8E" +
								"3A101610008F739070892B11F00E94BB0208951F9266" +
								"3A101620000F920FB60F9211242F933F938F939F9396" +
								"3A10163000EF93FF932091E1023091E2028091E30267" +
								"3A101640009091E4022817390731F48091C1008F7D11" +
								"3A101650008093C10014C0E091E302F091E402EF55E1" +
								"3A10166000FD4F20818091E3029091E40201968F73F7" +
								"3A1016700090709093E4028093E3022093C600FF9160" +
								"3A10168000EF919F918F913F912F910F900FBE0F90EF" +
								"3A101690001F901895AF92BF92DF92EF92FF920F9337" +
								"3A1016A0001F93CF93DF93EC017A018B01DD2440304F" +
								"3A1016B00081EE580780E0680780E0780711F0DD24AC" +
								"3A1016C000D39491E0A92EB12CEC89FD89DD2069F03D" +
								"3A1016D000C50108A002C0880F991F0A94E2F7808311" +
								"3A1016E00060E079E08DE390E005C0108260E874E886" +
								"3A1016F0008EE190E0A80197010E94FB11215030403B" +
								"3A1017000040405040569547953795279580E12030C9" +
								"3A10171000380720F0DD2011F0DD24D6CFE889F989E3" +
								"3A101720003083EA89FB89208319A2EE89FF894081F1" +
								"3A1017300021E030E0C9010C8C02C0880F991F0A9487" +
								"3A10174000E2F7482B4083EE89FF894081C9010D8C67" +
								"3A1017500002C0880F991F0A94E2F7482B4083EE8954" +
								"3A10176000FF894081C9010E8C02C0880F991F0A941D" +
								"3A10177000E2F7482B4083EE89FF8980810F8C02C0FD" +
								"3A10178000220F331F0A94E2F7209528232083DF914C" +
								"3A10179000CF911F910F91FF90EF90DF90BF90AF908E" +
								"3A1017A0000895DC011C96ED91FC911D97E05CFF4FC4" +
								"3A1017B0002191319180819181281B390B2F733070D9" +
								"3A1017C000C9010895DC011C96ED91FC911D97E05C28" +
								"3A1017D000FF4F20813181E054F040DF01AE5BBF4F0D" +
								"3A1017E0008D919C9111972817390719F42FEF3FEF2E" +
								"3A1017F00007C08D919C91E80FF91F8081282F30E060" +
								"3A10180000C9010895DC011C96ED91FC911D97E05CE7" +
								"3A10181000FF4F20813181E054F040DF01AE5BBF4FCC" +
								"3A101820008D919C9111972817390719F42FEF3FEFED" +
								"3A1018300010C08D919C911197E80FF91F20818D9117" +
								"3A101840009C91119701968F73907011969C938E9333" +
								"3A1018500030E0C9010895DC0191968C91919788231D" +
								"3A1018600039F05496ED91FC915597808186FFF9CF20" +
								"3A1018700091961C920895CF93DF93EC01EE85FF853E" +
								"3A10188000E05CFF4F20813181E054F0402F5F3F4FFB" +
								"3A101890002F733070DF01AE5BBF4F8D919C9111971C" +
								"3A1018A00028173907D1F3E05CFF4F80819181E05424" +
								"3A1018B000F040E80FF91F6083EE85FF85E05CFF4F85" +
								"3A1018C00031832083EE89FF89208181E090E00F8CB5" +
								"3A1018D00002C0880F991F0A94E2F7282B208381E029" +
								"3A1018E00089A3EC89FD8980818064808381E090E018" +
								"3A1018F000DF91CF9108951092E8021092E70288EEEE" +
								"3A1019000093E0A0E0B0E08093E9029093EA02A09314" +
								"3A10191000EB02B093EC0284EF91E09093E6028093A7" +
								"3A10192000E5028DE592E09093F2028093F10281EA64" +
								"3A1019300092E09093F4028093F30285EC90E0909310" +
								"3A10194000F6028093F50284EC90E09093F802809385" +
								"3A10195000F70280EC90E09093FA028093F90281EC18" +
								"3A1019600090E09093FC028093FB0282EC90E09093D5" +
								"3A10197000FE028093FD0286EC90E09093000380933A" +
								"3A10198000FF0284E08093010383E08093020387E0F9" +
								"3A101990008093030385E08093040381E08093050333" +
								"3A1019A0000895CF93DF930E947E090E942703CCEF16" +
								"3A1019B000DAE00E94C0022097E1F30E94FC0AF9CF0E" +
								"3A1019C000CF92DF92EF92FF920F931F93CF93DF930B" +
								"3A1019D0007C016B018A01C0E0D0E00FC0D6016D919F" +
								"3A1019E0006D01D701ED91FC910190F081E02DC701CF" +
								"3A1019F0000995C80FD91F015010400115110571F745" +
								"3A101A0000CE01DF91CF911F910F91FF90EF90DF906A" +
								"3A101A1000CF900895CF93DF93EC016115710519F410" +
								"3A101A200020E030E00FC0DB010D900020E9F71197B6" +
								"3A101A3000A61BB70BE881F9810280F381E02DAD018F" +
								"3A101A400009959C01C901DF91CF9108954F925F9252" +
								"3A101A50007F928F929F92AF92BF92CF92DF92EF923E" +
								"3A101A6000FF920F931F93DF93CF93CDB7DEB7A1976C" +
								"3A101A70000FB6F894DEBF0FBECDBF2C01742ECB0184" +
								"3A101A8000223008F42AE019A231E2C32ED12CCC0E68" +
								"3A101A9000DD1E822E9924AA24BB24672D752FA50153" +
								"3A101AA00094010E94FB1179018A01C801B701A501C7" +
								"3A101AB00094010E94DC11472D461B0894C108D108EF" +
								"3A101AC0004A3014F4405D01C0495CF6014083E114E2" +
								"3A101AD000F1040105110521F07E2C5F2DC801DDCF39" +
								"3A101AE000C201B6010E940A0DA1960FB6F894DEBF9E" +
								"3A101AF0000FBECDBFCF91DF911F910F91FF90EF905F" +
								"3A101B0000DF90CF90BF90AF909F908F907F905F902D" +
								"3A101B10004F900895DC012115310541F4ED91FC91C0" +
								"3A101B20000190F081E02D642F099508950E94260D03" +
								"3A101B30000895CF92DF92EF92FF920F931F93CF936E" +
								"3A101B4000DF93EC016A017B012115310541F4E88145" +
								"3A101B5000F9810190F081E02D642F09951FC02A3092" +
								"3A101B60003105D1F477FF17C0E881F9810190F08148" +
								"3A101B7000E02D6DE209958C0144275527BA014C19D7" +
								"3A101B80005D096E097F09CE012AE00E94260D9801A9" +
								"3A101B9000280F391F04C02AE00E94260D9C01C901AC" +
								"3A101BA000DF91CF911F910F91FF90EF90DF90CF9039" +
								"3A101BB00008950E940A0D08957F928F929F92AF928E" +
								"3A101BC000BF92CF92DF92EF92FF920F931F93CF932A" +
								"3A101BD000DF934C017A018B01722ECB01BA01A8016F" +
								"3A101BE00097010E94D811882321F0C40167EC71E0AD" +
								"3A101BF00021C0C0E0D0E057016801E894D7F8C601E1" +
								"3A101C0000B5012FEF3FEF4FE75FE70E94D811882320" +
								"3A101C100051F4C601B5012FEF3FEF4FE75FE70E9498" +
								"3A101C20002210181614F0C1E0D0E0219739F0C40159" +
								"3A101C30006BEC71E00E940A0DEC0193C0C801B70182" +
								"3A101C40002FEF3FEF4FE75FE40E947111181654F039" +
								"3A101C5000C801B7012FEF3FEF4FE75FEC0E94221062" +
								"3A101C6000882324F4C4016FEC71E0E4CFC801B7010C" +
								"3A101C700020E030E040E050E00E94221087FD03C0E9" +
								"3A101C8000C0E0D0E00EC0D401ED91FC910190F08154" +
								"3A101C9000E02DC4016DE20995EC0117FB109517F9D1" +
								"3A101CA000109520E030E040E05FE3DD240BC0CA0186" +
								"3A101CB000B90120E030E040E251E40E9426109B018F" +
								"3A101CC000AC01D394D71498F3C801B7010E94BE0F9A" +
								"3A101CD0005B016C010E9493107B018C01C401B8016F" +
								"3A101CE000A7012AE030E00E948A0DC80FD91F772093" +
								"3A101CF00039F0C40163ED71E00E940A0DC80FD91FCD" +
								"3A101D0000C801B7010E94BF109B01AC01C601B5011B" +
								"3A101D10000E94BD0F24C020E030E040E251E40E9468" +
								"3A101D200075117B018C010E948E105B016C01CC242B" +
								"3A101D3000B7FCC094DC2CC401B601A5012AE030E058" +
								"3A101D40000E94990DC80FD91FC601B5010E94C1108C" +
								"3A101D50009B01AC01C801B7010E94BD0F7A947720A6" +
								"3A101D6000D1F6CE01DF91CF911F910F91FF90EF90AF" +
								"3A101D7000DF90CF90BF90AF909F908F907F9008950D" +
								"3A101D80000E94DC0D0895FC019B01848195816817F8" +
								"3A101D9000790728F4608171816115710529F4109229" +
								"3A101DA000070367E073E002C0620F731FCB01089561" +
								"3A101DB0000F931F93CF93DF93EC018B016F5F7F4FE6" +
								"3A101DC000888199810E949001009711F480E005C0FC" +
								"3A101DD000998388831B830A8381E0DF91CF911F91D0" +
								"3A101DE0000F910895CF93DF93EC0188819981892B1E" +
								"3A101DF00029F08A819B818617970760F4CE010E94A3" +
								"3A101E0000D80E882341F08C819D81892B19F4E881BB" +
								"3A101E1000F981108281E0DF91CF910895EF92FF92D6" +
								"3A101E20000F931F93CF93DF93EC017B016C817D8136" +
								"3A101E3000E114F104C1F04115510599F08A01060F32" +
								"3A101E4000171FB8010E94F20E882369F088819981DA" +
								"3A101E50002C813D81820F931FB7010E946E021D836A" +
								"3A101E60000C8381E001C080E0DF91CF911F910F9141" +
								"3A101E7000FF90EF9008956115710511F480E00895C9" +
								"3A101E8000DB010D900020E9F71197A61BB70BAD0100" +
								"3A101E90000E940E0F0895FB0160817181448155817C" +
								"3A101EA0000E940E0F0895CF93DF93EC0188819981F2" +
								"3A101EB000009711F00E943801198218821D821C823D" +
								"3A101EC0001B821A82DF91CF910895EF92FF920F93B8" +
								"3A101ED0001F93CF93DF93EC017B018A01BA010E942B" +
								"3A101EE000F20E882321F4CE010E94530F07C01D83F8" +
								"3A101EF0000C8388819981B7010E946E02CE01DF9127" +
								"3A101F0000CF911F910F91FF90EF900895CF93DF93A2" +
								"3A101F1000EC01198218821B821A821D821C821E8289" +
								"3A101F20006115710551F0DB010D900020E9F7119763" +
								"3A101F3000A61BB70BAD010E94650FDF91CF910895ED" +
								"3A101F4000CF93DF93EC01FB018617970761F0608167" +
								"3A101F500071816115710529F0448155810E94650FD9" +
								"3A101F600002C00E94530FCE01DF91CF910895FC0172" +
								"3A101F7000808191810E94380108955058BB27AA277B" +
								"3A101F80000ED075C166D130F06BD120F031F49F3F97" +
								"3A101F900011F41EF45BC10EF4E095E7FB51C1E92F8B" +
								"3A101FA00077D180F3BA17620773078407950718F093" +
								"3A101FB00071F49EF58FC10EF4E0950B2EBA2FA02D73" +
								"3A101FC0000B01B90190010C01CA01A0011124FF27E6" +
								"3A101FD000591B99F0593F50F4503E68F11A16F040E1" +
								"3A101FE000A22F232F342F4427585FF3CF46953795E0" +
								"3A101FF0002795A795F0405395C9F77EF41F16BA0BA5" +
								"3A10200000620B730B840BBAF09150A1F0FF0FBB1F52" +
								"3A10201000661F771F881FC2F70EC0BA0F621F731F9B" +
								"3A10202000841F48F4879577956795B795F7959E3FF8" +
								"3A1020300008F0B3CF9395880F08F09927EE0F979586" +
								"3A1020400087950895D9D008F481E008950CD00FC188" +
								"3A1020500007D140F0FED030F021F45F3F19F0F0C01E" +
								"3A10206000511139C1F3C014D198F39923C9F3552301" +
								"3A10207000B1F3951B550BBB27AA276217730784077B" +
								"3A1020800038F09F5F5F4F220F331F441FAA1FA9F331" +
								"3A1020900033D00E2E3AF0E0E830D091505040E69523" +
								"3A1020A000001CCAF729D0FE2F27D0660F771F881F84" +
								"3A1020B000BB1F261737074807AB07B0E809F0BB0B73" +
								"3A1020C000802DBF01FF2793585F4F2AF09E3F510597" +
								"3A1020D00068F0B6C000C15F3FECF3983EDCF3869534" +
								"3A1020E00077956795B795F7959F5FC9F7880F911D0D" +
								"3A1020F0009695879597F90895E1E0660F771F881FF9" +
								"3A10210000BB1F621773078407BA0720F0621B730BAB" +
								"3A10211000840BBA0BEE1F88F7E095089504D06894FD" +
								"3A10212000B111D9C00895BCD088F09F5790F0B92F55" +
								"3A102130009927B751A0F0D1F0660F771F881F991F1C" +
								"3A102140001AF0BA95C9F712C0B13081F0C3D0B1E02E" +
								"3A102150000895C0C0672F782F8827B85F39F0B93F3E" +
								"3A10216000CCF3869577956795B395D9F73EF490951E" +
								"3A102170008095709561957F4F8F4F9F4F0895E8949C" +
								"3A1021800009C097FB3EF490958095709561957F4FBF" +
								"3A102190008F4F9F4F9923A9F0F92F96E9BB2793956D" +
								"3A1021A000F695879577956795B795F111F8CFFAF47D" +
								"3A1021B000BB0F11F460FF1BC06F5F7F4F8F4F9F4FAE" +
								"3A1021C00016C0882311F096E911C0772321F09EE80C" +
								"3A1021D000872F762F05C0662371F096E8862F70E072" +
								"3A1021E00060E02AF09A95660F771F881FDAF7880F4C" +
								"3A1021F0009695879597F90895990F0008550FAA0BA2" +
								"3A10220000E0E8FEEF16161706E807F907C0F0121609" +
								"3A102210001306E407F50798F0621B730B840B950B0C" +
								"3A1022200039F40A2661F0232B242B252B21F4089561" +
								"3A102230000A2609F4A140A6958FEF811D811D0895FE" +
								"3A1022400097F99F6780E870E060E008959FEF80EC69" +
								"3A10225000089500240A94161617061806090608950C" +
								"3A1022600000240A9412161306140605060895092E72" +
								"3A102270000394000C11F4882352F0BB0F40F4BF2BE1" +
								"3A1022800011F460FF04C06F5F7F4F8F4F9F4F089521" +
								"3A1022900057FD9058440F551F59F05F3F71F0479517" +
								"3A1022A000880F97FB991F61F09F3F79F087950895FC" +
								"3A1022B000121613061406551FF2CF4695F1DF08C01B" +
								"3A1022C000161617061806991FF1CF86957105610538" +
								"3A1022D00008940895E894BB2766277727CB0197F9E0" +
								"3A1022E00008958ADF08F48FEF08950BD0C0CFB1DFD7" +
								"3A1022F00028F0B6DF18F0952309F0A2CFA7CF11245C" +
								"3A10230000EACFC6DFA0F3959FD1F3950F50E0551F9C" +
								"3A10231000629FF001729FBB27F00DB11D639FAA273A" +
								"3A10232000F00DB11DAA1F649F6627B00DA11D661F89" +
								"3A10233000829F2227B00DA11D621F739FB00DA11DAA" +
								"3A10234000621F839FA00D611D221F749F3327A00D64" +
								"3A10235000611D231F849F600D211D822F762F6A2F00" +
								"3A1023600011249F5750408AF0E1F088234AF0EE0F85" +
								"3A10237000FF1FBB1F661F771F881F91505040A9F792" +
								"3A102380009E3F510570F05CCFA6CF5F3FECF3983EC7" +
								"3A10239000DCF3869577956795B795F795E7959F5FF9" +
								"3A1023A000C1F7FE2B880F911D9695879597F9089593" +
								"3A1023B00023DF880B990B0895629FD001739FF00172" +
								"3A1023C000829FE00DF11D649FE00DF11D929FF00DC5" +
								"3A1023D000839FF00D749FF00D659FF00D9927729FFC" +
								"3A1023E000B00DE11DF91F639FB00DE11DF91FBD0187" +
								"3A1023F000CF0111240895A1E21A2EAA1BBB1BFD01D7" +
								"3A102400000DC0AA1FBB1FEE1FFF1FA217B307E407D3" +
								"3A10241000F50720F0A21BB30BE40BF50B661F771F2B" +
								"3A10242000881F991F1A9469F760957095809590950B" +
								"3A102430009B01AC01BD01CF010895EE0FFF1F059078" +
								"3A10244000F491E02D09942F923F924F925F926F92F8" +
								"3A102450007F928F929F92AF92BF92CF92DF92EF9234" +
								"3A10246000FF920F931F93CF93DF93CDB7DEB7CA1BB5" +
								"3A10247000DB0B0FB6F894DEBF0FBECDBF09942A88E0" +
								"3A10248000398848885F846E847D848C849B84AA8488" +
								"3A10249000B984C884DF80EE80FD800C811B81AA8115" +
								"3A1024A000B981CE0FD11D0FB6F894DEBF0FBECDBFE0" +
								"3A1024B000ED01089510E0C6ECD0E004C0FE010E94DA" +
								"3A0E24C0001F122296C83CD107C9F7F894FFCF2F" +
								"3A1024CE0054656D703A2000204300754353530076D7" +
								"3A1024DE00302E3161005245534554000068747470BB" +
								"3A1024EE003A2F2F666F6C6B2E6E746E752E6E6F2F6D" +
								"3A1024FE00737661727661612F7574696C732F707269" +
								"3A10250E006F327777772F23617070496431004F53A4" +
								"3A10251E004E4150204A61636B65740024242400559B" +
								"3A10252E002C002C4E00007B226E616D65223A22003B" +
								"3A10253E00222C002276657273696F6E223A22002277" +
								"3A10254E007365727669636573223A205B005D2C00B9" +
								"3A10255E00226C696E6B73223A205B005D7D002C202D" +
								"3A10256E0000222C20226C696E6B223A2200227D0002" +
								"3A10257E007B20226964223A202200222C20227069BC" +
								"3A10258E006E7322203A22006E616E00696E66006FD5" +
								"3A10259E007666002E0020000C030000D0070000011C" +
								"3A1025AE0000000000E407E00C00004000140054009E" +
								"3A1025BE00000000003B0CE00CD10B020CE20B2B0CCC" +
								"3A00000001FF";
						
						//Convert string to byte array
						byte[] binaryFile = new byte[hexData.length() / 2];
						for(int i=0; i < hexData.length(); i+=2)
						{
							binaryFile[i/2] = Integer.decode("0x" + hexData.substring(i, i + 2)).byteValue();
						}
						
						STK500v1 p = new STK500v1(outStream, inputStream, log, binaryFile);
						
						// Upload
						p.programUsingOptiboot(true, 256);
						
						// Terminate readWrapper
						p.stopReadWrapper();
						
						log.logcat("initializeExecuteButton: Protocol code stopped", "d");
						log.printToConsole("Protocol code stopped");
						handler.sendEmptyMessage(0);
					}
					
				}).start();
			}
		});
	}
	
	private void initializeSendButton(){
		send.setOnClickListener(new OnClickListener() {

			@Override
			public void onClick(View v) {
				sendData(input.getText() + "");
				input.setText("");
			}
		});
	}
	
	private void initialiseConnectButton(){
		connect.setOnClickListener(new OnClickListener() {

			@Override
			public void onClick(View v) {
				BluetoothDevice device = btAdapter.getRemoteDevice(address);

				try {
					btSocket = createBluetoothSocket(device);
				} catch (IOException e1) {
					log.printToConsole("\n Failed to create BT socket");
				}

				btAdapter.cancelDiscovery();

				log.printToConsole("\n...Connecting...");
				log.logcat("initialiseConnectButton: Connecting...", "d");

				try {
					btSocket.connect();
					log.logcat("initialiseConnectButton: Connection OK...", "d");
				} catch (IOException e) {
					try {
						btSocket.close();
					} catch (IOException e2) {
						log.printToConsole("\n Failed to close socket");
					}
				}

				try {
					outStream = btSocket.getOutputStream();
				} catch (IOException e) {
					log.printToConsole("\n...Output stream creating failed...");
				}
				try {
					inputStream = btSocket.getInputStream();
				} catch (IOException e) {
					log.printToConsole("\n...Input stream creation failed...");
				}
				log.printToConsole("\n...Sockets created...");
				log.logcat("initialiseConnectButton: Sockets created", "d");
			}
		});
	}

	@Override
	public boolean onCreateOptionsMenu(Menu menu) {
		getMenuInflater().inflate(R.menu.main, menu);
		return true;
	}

	private BluetoothSocket createBluetoothSocket(BluetoothDevice device) throws IOException {
		if(Build.VERSION.SDK_INT >= 10){
			try {
				final Method  m = device.getClass().getMethod("createInsecureRfcommSocketToServiceRecord", new Class[] { UUID.class });
				return (BluetoothSocket) m.invoke(device, MY_UUID);
			} catch (Exception e) {

				log.printToConsole("\n Couldnt create insecure RFComm connection");
			}
		}
		return  device.createRfcommSocketToServiceRecord(MY_UUID);
	}

	@Override
	public void onResume() {
		super.onResume();
	}

	@Override
	public void onPause() {
		super.onPause();
		if (outStream != null) {
			try {
				outStream.flush();
			} catch (IOException e) {
			}
		}
		try     {
			btSocket.close();
		} catch (IOException e2) {
		}
	}

	private void checkBTState() {
		if(btAdapter==null) { 
		} else {
			if (btAdapter.isEnabled()) {
			} else {
				Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);
				startActivityForResult(enableBtIntent, 1);
			}
		}
	}

	private void sendData(String message) {
		byte[] msgBuffer = message.getBytes();

		try {
			outStream.write(msgBuffer);
		} catch (IOException e) {
			String msg = "";
			if (address.equals("00:00:00:00:00:00")) 
				msg += "\nCheck that the SPP UUID: \n" + MY_UUID.toString() + "\nexists on server.";

			log.printToConsole(msg);   
		}
	}

	//	public static void printToConsoleStatic(MainActivity c, String msg){
	//		c.printToConsole(msg);
	//	}
	//	
	public void printToConsole(String msg){
		text += msg;
		console.setText(text);
	}


}
